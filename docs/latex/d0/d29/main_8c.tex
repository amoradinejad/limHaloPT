\hypertarget{main_8c}{}\doxysubsection{main.\+c File Reference}
\label{main_8c}\index{main.c@{main.c}}


Documented main module, including functions to initilize and cleanup the cosmology structure and examples of calls to functions in other modules to compute the line clustering and shot power spectrum.  


{\ttfamily \#include \char`\"{}header.\+h\char`\"{}}\newline
Include dependency graph for main.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d10/main_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{main_8c_a0ddf1224851353fc92bfbff6f499fa97}{main}} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structglobals}{globals}} \mbox{\hyperlink{main_8c_a61c6674f2b410e126a682325ce5360c0}{gb}}
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
Documented main module, including functions to initilize and cleanup the cosmology structure and examples of calls to functions in other modules to compute the line clustering and shot power spectrum. 

Azadeh Moradinezhad Dizgah, November 4th 2021

In order to call any function from the package, the function calls should be placed in the marked section of \mbox{\hyperlink{main_8c_a0ddf1224851353fc92bfbff6f499fa97}{main()}} function. 

\doxysubsubsection{Function Documentation}
\mbox{\Hypertarget{main_8c_a0ddf1224851353fc92bfbff6f499fa97}\label{main_8c_a0ddf1224851353fc92bfbff6f499fa97}} 
\index{main.c@{main.c}!main@{main}}
\index{main@{main}!main.c@{main.c}}
\doxyparagraph{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}

\DoxyHorRuler{0}
 If you want to change the values of cosmological parmaeters compared to the default values of the code, you should do so inside the \mbox{\hyperlink{setup__teardown_8c_a25a40b6614565f755233080a384c35f1}{initialize()}} function. \hypertarget{main.c_autotoc_md1}{}\doxyparagraph{For instance change the value of gb.\+h to set the value of hubble parmaeter in your cosmology.}\label{main.c_autotoc_md1}
Initialize various ingredients for the rest of the code. More specifically, set the relavent directory paths, values of cosmological parameters and in general any parameter that has to be passed to CLASS Boltzmann code. Furthermore initialize some of the interpolators needed for the package.

\DoxyHorRuler{0}
 \hypertarget{main.c_autotoc_md3}{}\doxyparagraph{Change if you want to assume a different mass function or minimum halo mass}\label{main.c_autotoc_md3}
Set the parameters for computing quantities related to spectral lines. More specifically, the mimum mass for halos that can host line-\/emitting galaxies M\+\_\+min and the the theoretical mass function to be used, ST\+: Sheth-\/\+Tormen, PSC\+: Press-\/\+Schecter, TK\+:\+: Tinker

\DoxyHorRuler{0}
 \hypertarget{main.c_autotoc_md5}{}\doxyparagraph{Change if you want to limit the lines to include in your computation.}\label{main.c_autotoc_md5}
Define which lines to compute, and how many points to have for z-\/interpolation

Note\+: The main line properties used in the calculation of the line power spectrum, which includes first and second moments of line luminosity (weighted by halo mass function) and luminosity-\/weighted linear and quadratic line biases are computed in function \mbox{\hyperlink{line__ingredients_8c_aa4696edc9829e9a3c2c1012a3e9d9dbe}{Line\+\_\+alloc\+\_\+init()}}. In that function, these quantities are calculate over an array of redshift values and then an interpolator for these quantities is initialized. The parameter \char`\"{}ninterp\char`\"{} below, sets the number of interpolation points ~\newline
 for this interpolator. If you set it too low, the redshift-\/dependance of line properties would not be accurate. In the tests done during code developement, ninterp = 150 give results at the precision needed. However large values of ninterp results in longer run time.

For testing installation and running of the code, you can set lower value of ninterp, to make the code run faster. But remember in your actuall runs, set ninterp to larger numbers.

If you do not need to compute the line properties for all the 7 lines below, you can set nlines to the number of lines you are interested, change the arrays of line\mbox{[}nlines\mbox{]} and JJ\mbox{[}nlines\mbox{]} to correspond to the lines you need to calculate.

\DoxyHorRuler{0}
 In general, you should not need to change this portion of the code. But in order to call most functions of \hypertarget{main.c_autotoc_md7}{}\doxyparagraph{lim\+Halo\+PT, you furst need to initilize the Cosmology structure as done below.}\label{main.c_autotoc_md7}
Set values of cosmological parameter and finger-\/of-\/god paramater (peculiar velocity of line emitters) and initialize cosmo\+\_\+pars array in the cosmology structure Cx\+\_\+ref

Initialize the cosmology structure, which includes CLASS cosmology and \mbox{\hyperlink{struct_line}{Line}} structures

\DoxyHorRuler{0}
 \hypertarget{main.c_autotoc_md9}{}\doxyparagraph{Depending on what quantities ou want to compute, you need to modify this part of the main() function.}\label{main.c_autotoc_md9}
Set the k and z arrays

For testing the code, you can reduce the range of k, and z and also the number of points for each, nk, and nz.

Compute the line clustering signal using halo model

Compute the shot noise (beyond the Poisson limit), using halo model

\DoxyHorRuler{0}
 \hypertarget{main.c_autotoc_md11}{}\doxyparagraph{Modify up to here}\label{main.c_autotoc_md11}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d0/d29/main_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph}
\end{center}
\end{figure}


\doxysubsubsection{Variable Documentation}
\mbox{\Hypertarget{main_8c_a61c6674f2b410e126a682325ce5360c0}\label{main_8c_a61c6674f2b410e126a682325ce5360c0}} 
\index{main.c@{main.c}!gb@{gb}}
\index{gb@{gb}!main.c@{main.c}}
\doxyparagraph{\texorpdfstring{gb}{gb}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structglobals}{globals}} gb}

